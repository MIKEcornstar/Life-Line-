<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: radial-gradient(circle at top, #ffd6e8 0%, #ff9ec4 35%, #ff6b81 100%);
        font-family: "Comic Sans MS", cursive, sans-serif;
        overflow: hidden;
        color: #4b1b2f;
    }

    .sparkle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: rgba(255,255,255,0.9);
        border-radius: 50%;
        box-shadow: 0 0 8px rgba(255,255,255,0.9);
        animation: floatSparkle 6s linear infinite;
    }

    @keyframes floatSparkle {
        0% { transform: translateY(0) scale(1); opacity: 1; }
        100% { transform: translateY(-800px) scale(0.5); opacity: 0; }
    }

    .container {
        text-align: center;
        position: relative;
        z-index: 2;
    }

    .envelope-wrapper {
        cursor: pointer;
        display: inline-block;
        position: relative;
        animation: envelopeIdle 2.5s ease-in-out infinite;
    }

    @keyframes envelopeIdle {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-6px); }
    }

    .envelope {
        width: 260px;
        height: 180px;
        background: #ffc1d9;
        border-radius: 12px;
        position: relative;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        overflow: hidden;
    }

    .envelope::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #ff9ec4, #ff6b81);
        clip-path: polygon(0 0, 100% 0, 50% 60%);
        top: 0;
        left: 0;
    }

    .envelope::after {
        content: "";
        position: absolute;
        width: 70px;
        height: 70px;
        background: #ff4b7a;
        border-radius: 50%;
        border: 4px solid #ffe4f0;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -10%);
        box-shadow: 0 0 12px rgba(255,255,255,0.9);
    }

    .envelope-heart {
        position: absolute;
        top: 52%;
        left: 50%;
        transform: translate(-50%, -20%);
        font-size: 32px;
        color: #ffeef6;
        z-index: 2;
    }

    .open-hint {
        margin-top: 18px;
        font-size: 1rem;
        color: #4b1b2f;
        text-shadow: 0 0 4px rgba(255,255,255,0.7);
    }

    .note {
        position: absolute;
        width: 260px;
        background: #fffaf5;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.25);
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 0;
        pointer-events: none;
        transition: all 0.6s ease;
    }

    .note.visible {
        opacity: 1;
        transform: translate(-50%, -55%) scale(1);
        pointer-events: auto;
    }

    .note-title {
        font-size: 1.4rem;
        margin-bottom: 16px;
        color: #c2185b;
    }

    .buttons {
        margin-top: 18px;
        display: flex;
        justify-content: center;
        gap: 20px;
    }

    button {
        padding: 10px 26px;
        font-size: 1rem;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
    }

    #yesBtn {
        background: linear-gradient(135deg, #ff4b7a, #ff8ba7);
        color: white;
        box-shadow: 0 0 12px rgba(255,75,122,0.7);
    }

    #yesBtn:hover {
        transform: scale(1.08);
        box-shadow: 0 0 18px rgba(255,75,122,0.9);
    }

    #noBtn {
        background: #ffffff;
        color: #ff4b7a;
        box-shadow: 0 0 8px rgba(0,0,0,0.15);
        position: relative;
    }

    .heart-burst {
        position: absolute;
        font-size: 1.8rem;
        animation: burst 1s ease-out forwards;
        pointer-events: none;
    }

    @keyframes burst {
        0% { transform: scale(0); opacity: 1; }
        100% { transform: scale(2.5); opacity: 0; }
    }

    .bouquet {
        position: absolute;
        bottom: -200px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 4rem;
        opacity: 0;
        transition: all 0.9s ease-out;
    }

    .bouquet.visible {
        bottom: 40px;
        opacity: 1;
    }

    .final-message {
        margin-top: 18px;
        font-size: 1.1rem;
        color: #b0124a;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.7s ease-out;
    }

    .final-message.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .poem {
        margin-top: 10px;
        font-size: 0.95rem;
        line-height: 1.5;
        color: #5a1f35;
        white-space: pre-line;
    }
</style>
</head>
<body>

<!-- Sounds -->
<audio id="pianoIntro">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5e8b8b0c8d.mp3?filename=romantic-piano-110397.mp3" type="audio/mpeg">
</audio>

<audio id="sparkleSound">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7b2b8b0c8d.mp3?filename=magic-sparkle-110397.mp3" type="audio/mpeg">
</audio>

<audio id="yesChime">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_0d8b8b0c8d.mp3?filename=magic-chime-110397.mp3" type="audio/mpeg">
</audio>

<audio id="noSlip">
    <source src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_3b2b8b0c8d.mp3?filename=cartoon-slip-110397.mp3" type="audio/mpeg">
</audio>

<div class="container">
    <div class="envelope-wrapper" id="envelopeWrapper">
        <div class="envelope"></div>
        <div class="envelope-heart">üíå</div>
    </div>
    <div class="open-hint">Tap the envelope to open your surprise</div>

    <div class="note" id="note">
        <div class="note-title">Rebeka, will you be my Valentine?</div>
        <div class="buttons">
            <button id="yesBtn">Yes</button>
            <button id="noBtn">No</button>
        </div>
        <div class="final-message" id="finalMessage">
            I ‚ù§Ô∏è you so much Mama and hope to celebrate more Valentines to come.
            <div class="poem">
You are my calm, my sweetest light,
The warmth that makes the hard days bright.
With every laugh and every touch,
You show me love that means so much.

If time could pause, I‚Äôd hold you near,
And whisper softly in your ear:
No matter where our lives may go,
My heart is yours ‚Äî I hope you know.
            </div>
        </div>
    </div>

    <div class="bouquet" id="bouquet">üíê</div>
</div>

<script>
    const envelopeWrapper = document.getElementById("envelopeWrapper");
    const note = document.getElementById("note");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const bouquet = document.getElementById("bouquet");
    const finalMessage = document.getElementById("finalMessage");

    const pianoIntro = document.getElementById("pianoIntro");
    const sparkleSound = document.getElementById("sparkleSound");
    const yesChime = document.getElementById("yesChime");
    const noSlip = document.getElementById("noSlip");

    // Play soft piano on load (best-effort, may require interaction on some browsers)
    window.addEventListener("load", () => {
        pianoIntro.volume = 0.5;
        pianoIntro.play().catch(() => {});
        createSparkles();
        setInterval(createSparkles, 800);
    });

    function createSparkles() {
        for (let i = 0; i < 4; i++) {
            const s = document.createElement("div");
            s.classList.add("sparkle");
            s.style.left = Math.random() * window.innerWidth + "px";
            s.style.bottom = "-10px";
            s.style.animationDuration = (4 + Math.random() * 4) + "s";
            document.body.appendChild(s);
            setTimeout(() => s.remove(), 8000);
        }
    }

    envelopeWrapper.addEventListener("click", () => {
        sparkleSound.currentTime = 0;
        sparkleSound.play().catch(() => {});
        envelopeWrapper.style.opacity = "0";
        envelopeWrapper.style.pointerEvents = "none";
        document.querySelector(".open-hint").style.opacity = "0";
        setTimeout(() => {
            note.classList.add("visible");
        }, 250);
    });

    document.addEventListener("mousemove", (e) => {
        if (!note.classList.contains("visible")) return;
        const rect = noBtn.getBoundingClientRect();
        const distance = Math.hypot(
            e.clientX - (rect.left + rect.width / 2),
            e.clientY - (rect.top + rect.height / 2)
        );
        if (distance < 120) {
            noSlip.currentTime = 0;
            noSlip.play().catch(() => {});
            const offsetX = (Math.random() - 0.5) * 200;
            const offsetY = (Math.random() - 0.5) * 120;
            noBtn.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
        }
    });

    yesBtn.addEventListener("click", () => {
        yesChime.currentTime = 0;
        yesChime.play().catch(() => {});
        for (let i = 0; i < 18; i++) {
            const heart = document.createElement("div");
            heart.classList.add("heart-burst");
            heart.innerHTML = "üíñ";
            heart.style.left = (window.innerWidth / 2 + (Math.random() * 200 - 100)) + "px";
            heart.style.top = (window.innerHeight / 2 + (Math.random() * 120 - 60)) + "px";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 1000);
        }
        setTimeout(() => {
            bouquet.classList.add("visible");
            finalMessage.classList.add("visible");
        }, 400);
    });
</script>

</body>
</html>
